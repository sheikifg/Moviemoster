var ace_news_file_frame;jQuery(function(e){jQuery(document).on("click","input.select-img",function(t){var a=e(this);t.preventDefault();var i=wp.media.controller.Library.extend({defaults:_.defaults({id:"author-insert-image",title:a.data("uploader_title"),allowLocalEdits:!1,displaySettings:!0,displayUserSettings:!1,multiple:!1,library:wp.media.query({type:"image"})},wp.media.controller.Library.prototype.defaults)});(ace_news_file_frame=wp.media.frames.ace_news_file_frame=wp.media({button:{text:jQuery(this).data("uploader_button_text")},state:"author-insert-image",states:[new i],multiple:!1})).on("select",function(){var e=ace_news_file_frame.state("author-insert-image"),t=e.get("selection"),i=e.display(t.first()).toJSON(),r=t.first().toJSON();i=wp.media.string.props(i,r);var s=a.siblings(".img"),l=i.src;s.val(l),s.trigger("change")}),ace_news_file_frame.open()})});